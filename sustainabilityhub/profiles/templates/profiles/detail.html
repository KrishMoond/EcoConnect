{% extends 'base.html' %}

{% block title %}{{ profile.user.username }} - Profile{% endblock %}

{% block content %}
<div class="card">
    <h1>{{ profile.user.username }}</h1>
    {% if profile.user.avatar %}
        <img src="{{ profile.user.avatar.url }}" alt="{{ profile.user.username }}" style="width: 150px; height: 150px; border-radius: 50%; margin: 1rem 0;">
    {% endif %}
    {% if profile.user.bio %}
        <p><strong>Bio:</strong> {{ profile.user.bio }}</p>
    {% endif %}
    {% if profile.location %}
        <p><strong>Location:</strong> {{ profile.location }}</p>
    {% endif %}
    {% if profile.skills %}
        <p><strong>Skills:</strong> {{ profile.skills }}</p>
    {% endif %}
    {% if profile.interests %}
        <p><strong>Interests:</strong> {{ profile.interests|join:", " }}</p>
    {% endif %}
    
    {% if user == profile.user %}
        <a href="{% url 'profiles:edit' %}" class="btn">Edit Profile</a>
    {% elif user.is_authenticated %}
        <a href="{% url 'messaging:start_conversation' user_id=profile.user.id %}" class="btn">Send Message</a>
    {% endif %}
</div>

<div class="card">
    <h2>Projects</h2>
    <ul>
        {% for project in profile.user.created_projects.all %}
            <li><a href="{% url 'projects:detail' pk=project.pk %}">{{ project.title }}</a></li>
        {% empty %}
            <li>No projects yet.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}

